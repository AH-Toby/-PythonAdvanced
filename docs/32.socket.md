# Socket简介

## 一.不同电脑上的进程之间如何通信

首要解决的问题是如何唯一标识一个进程，否则通信无从谈起！

在1台电脑上可以通过进程号（PID）来唯一标识一个进程，但是在网络中这是行不通的。

其实TCP/IP协议族已经帮我们解决了这个问题，网络层的 `ip地址` 可以唯一标识网络中的主机，而传输层的 `协议+端口` 可以唯一标识主机中的应用进程（进程）。

这样利用ip地址，协议，端口就可以标识网络的进程了，网络中的进程通信就可以利用这个标志与其它进程进行交互

> 注意:
>
> 所谓`进程`指的是：运行的程序以及运行时用到的资源这个整体称之为进程（在讲解多任务编程时进行详细讲解）
>
> 所谓`进程间通信`指的是：运行的程序之间的数据共享

## 二.什么是socket？

socket(简称 `套接字`) 是进程间通信的一种方式，它与其他进程间通信的一个主要不同是：它能实现不同主机间的进程间通信，我们网络上各种各样的服务大多都是基于 Socket 来完成通信的

以下是他的一些关键特点和概念:

**通信端点:** 套接字表示网络通信的一端，每个套接字都有一个本地IP地址和端口号，用于标识该端点。远程套接字则包括远程IP地址和端口号。

**通信协议:** 套接字通常与特定的通信协议相关联，例如TCP（传输控制协议）或UDP（用户数据报协议）。不同的协议提供不同的通信特性，如可靠性、连接性和数据包大小等。

**套接字类型:** 套接字可以是面向连接的（例如TCP套接字）或无连接的（例如UDP套接字）。面向连接的套接字建立持久的通信连接，而无连接的套接字每次通信都是独立的。

**监听和连接:** 服务器套接字通常在某个端口上监听来自客户端的连接请求。一旦建立连接，通信双方可以通过套接字进行数据交换。

**数据传输:** 套接字允许应用程序通过发送和接收数据来实现通信。数据可以以字节流或数据包的形式进行传输，具体取决于所使用的协议和套接字类型。

**关闭套接字:** 在通信完成后，套接字可以被关闭，释放资源并终止通信。

套接字编程是网络应用程序开发的基础之一，各种编程语言都提供了套接字API，使开发人员能够创建网络应用程序，包括Web浏览器、邮件客户端、服务器和各种实时通信应用程序。套接字编程允许程序在不同计算机之间进行数据传输，从而实现了分布式和网络化的计算。

## 三. 创建socket

在Python 中 使用socket 模块的函数 socket 就可以完成socket的创建

**结构：**

```python
import socket
socket.socket(AddressFamily, Type)
```

**参数：**

**Address Family:**  套接字的地址族，指定了套接字使用的地址类型。常见的地址族包括：

* **socket.AF_INET:** IPv4地址族，用于创建IPv4套接字。
* **socket.AF_INET6:** IPv6地址族，用于创建IPv6套接字。
* **socket.AF_UNIX|socket.AF_LOCAL:** UNIX域套接字，用于本地进程间通信。

**Type:** 套接字类型，套接字的类型，指定了套接字的通信方式和协议。常见的套接字类型包括：

- **socket.SOCK_STREAM:** 流套接字，用于面向连接的可靠数据传输，通常与TCP协议一起使用。
- **socket.SOCK_DGRAM:** 数据报套接字，用于无连接的数据传输，通常与UDP协议一起使用。
- **socket.SOCK_RAW:** 原始套接字，可以访问底层网络协议，通常需要特权。

```python
import socket

# 创建一个IPv4 TCP套接字
ipv4_tcp_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# 创建一个IPv6 UDP套接字
ipv6_udp_socket = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM)

# 创建一个UNIX域套接字
unix_socket = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM)

# 关闭套接字
ipv4_tcp_socket.close()
ipv6_udp_socket.close()
unix_socket.close()
```

一旦创建了套接字对象，您可以使用它来进行网络通信，包括接受连接、发送和接收数据等操作，具体操作取决于套接字的类型和您的应用程序需求。

## 四.说明

**套接字使用流程 与 文件的使用流程很类似**

1. 创建套接字
2. 使用套接字收|发数据
3. 关闭套接字